a = ["f 2",
"f 3",
"f 5",
"f 6",
"d  7",
"f 8",
"f 4",
"f 7",
"f 5",
"f 5",
"d  4",
"d  9",
"f 8",
"f 5",
"up  5",
"d  5",
"f 3",
"d  4",
"d  8",
"f 9",
"d  1",
"up  9",
"d  7",
"up  7",
"up  1",
"f 1",
"d  1",
"d  4",
"d  4",
"d  8",
"d  4",
"up  3",
"d  1",
"d  3",
"f 7",
"d  6",
"f 3",
"f 5",
"f 2",
"up  9",
"f 7",
"up  5",
"d  3",
"f 1",
"f 2",
"d  3",
"d  8",
"d  3",
"f 8",
"up  5",
"d  5",
"f 3",
"d  5",
"f 9",
"d  3",
"d  4",
"d  9",
"d  7",
"up  3",
"d  9",
"up  9",
"up  1",
"f 3",
"up  4",
"d  3",
"f 7",
"f 7",
"up  7",
"f 6",
"d  7",
"d  6",
"f 2",
"f 9",
"d  5",
"f 4",
"up  6",
"d  1",
"d  9",
"d  9",
"f 4",
"d  1",
"f 6",
"d  1",
"d  5",
"d  4",
"d  4",
"f 4",
"f 9",
"up  1",
"d  2",
"d  8",
"d  5",
"d  8",
"d  8",
"up  2",
"f 8",
"up  1",
"f 4",
"d  5",
"d  1",
"up  2",
"f 6",
"f 9",
"f 2",
"f 6",
"f 9",
"up  6",
"f 9",
"up  4",
"d  7",
"up  6",
"f 2",
"d  1",
"up  3",
"f 1",
"f 8",
"d  6",
"d  8",
"d  8",
"f 8",
"f 2",
"f 2",
"d  2",
"up  1",
"d  9",
"up  9",
"d  9",
"up  3",
"f 9",
"up  4",
"up  7",
"up  6",
"d  9",
"f 1",
"d  3",
"d  4",
"f 8",
"d  3",
"d  9",
"up  3",
"f 2",
"up  5",
"d  3",
"f 8",
"up  3",
"d  3",
"f 2",
"f 9",
"d  1",
"d  9",
"d  4",
"up  7",
"d  4",
"up  6",
"f 5",
"d  6",
"f 3",
"d  2",
"f 1",
"f 8",
"d  4",
"f 1",
"up  7",
"f 6",
"up  9",
"f 6",
"d  3",
"f 2",
"d  4",
"f 6",
"d  3",
"d  6",
"d  1",
"d  1",
"d  5",
"f 3",
"f 9",
"f 8",
"d  3",
"f 7",
"up  9",
"f 9",
"up  2",
"f 4",
"up  3",
"f 1",
"up  6",
"up  8",
"d  5",
"d  6",
"up  9",
"d  6",
"d  9",
"up  9",
"d  4",
"f 5",
"up  2",
"d  3",
"up  3",
"d  1",
"f 3",
"d  5",
"f 7",
"d  6",
"d  7",
"d  5",
"f 2",
"up  6",
"d  9",
"d  4",
"d  3",
"f 9",
"up  8",
"f 2",
"d  2",
"f 4",
"up  6",
"d  4",
"up  8",
"d  7",
"d  2",
"up  6",
"up  4",
"d  2",
"f 5",
"up  4",
"d  8",
"f 3",
"f 1",
"d  7",
"f 8",
"f 7",
"d  7",
"up  4",
"f 8",
"d  5",
"up  9",
"f 1",
"f 4",
"f 9",
"f 7",
"d  9",
"up  9",
"d  1",
"d  7",
"f 7",
"d  7",
"d  7",
"d  3",
"d  5",
"f 3",
"d  2",
"f 6",
"d  9",
"up  5",
"up  3",
"f 5",
"d  6",
"d  1",
"f 4",
"d  3",
"f 8",
"d  7",
"f 7",
"f 7",
"up  7",
"up  2",
"up  3",
"f 9",
"d  5",
"up  2",
"f 5",
"up  5",
"f 2",
"f 2",
"d  8",
"f 2",
"up  4",
"f 1",
"f 3",
"up  8",
"up  9",
"f 5",
"d  1",
"up  8",
"d  4",
"d  8",
"up  4",
"f 9",
"d  6",
"d  8",
"up  2",
"up  3",
"d  7",
"d  4",
"f 5",
"d  6",
"f 3",
"f 3",
"f 8",
"d  1",
"d  7",
"d  9",
"d  2",
"d  7",
"f 7",
"d  7",
"d  6",
"up  6",
"f 8",
"f 5",
"up  5",
"d  2",
"up  8",
"up  4",
"d  9",
"up  2",
"f 5",
"up  2",
"d  4",
"up  4",
"f 2",
"f 4",
"f 9",
"f 9",
"up  4",
"up  5",
"d  1",
"d  6",
"d  1",
"d  4",
"d  5",
"d  3",
"f 3",
"d  9",
"f 6",
"d  3",
"d  9",
"d  2",
"up  2",
"d  2",
"d  7",
"f 9",
"d  3",
"d  3",
"d  2",
"d  3",
"f 2",
"d  9",
"d  9",
"up  5",
"up  3",
"f 4",
"up  7",
"f 8",
"up  6",
"f 7",
"d  7",
"d  1",
"f 5",
"d  2",
"up  1",
"d  8",
"up  3",
"f 2",
"up  9",
"d  1",
"d  3",
"d  6",
"d  2",
"d  7",
"up  2",
"f 5",
"f 7",
"d  2",
"f 5",
"f 4",
"f 5",
"d  3",
"f 7",
"d  7",
"f 8",
"d  3",
"d  2",
"up  1",
"f 6",
"d  4",
"d  2",
"f 7",
"up  3",
"d  4",
"f 2",
"up  6",
"d  3",
"up  6",
"up  8",
"d  9",
"up  6",
"f 8",
"f 9",
"f 4",
"f 7",
"d  2",
"f 9",
"d  7",
"up  9",
"d  5",
"d  6",
"up  5",
"d  4",
"f 8",
"f 4",
"f 4",
"d  6",
"f 3",
"f 6",
"d  9",
"d  9",
"up  2",
"f 7",
"d  8",
"d  9",
"d  9",
"f 7",
"f 3",
"d  7",
"d  8",
"f 8",
"d  6",
"d  5",
"d  9",
"d  3",
"f 1",
"d  5",
"f 2",
"f 8",
"d  2",
"f 6",
"f 3",
"d  7",
"d  4",
"f 8",
"f 1",
"d  6",
"f 9",
"f 6",
"up  1",
"up  3",
"d  8",
"f 1",
"up  5",
"d  4",
"f 7",
"up  3",
"d  2",
"f 1",
"f 9",
"d  9",
"d  7",
"f 8",
"d  4",
"up  3",
"d  4",
"f 2",
"f 6",
"d  7",
"f 6",
"d  6",
"d  4",
"d  1",
"up  9",
"d  4",
"d  7",
"up  4",
"d  9",
"f 6",
"d  3",
"f 2",
"d  4",
"f 3",
"d  5",
"up  9",
"f 8",
"up  7",
"up  6",
"up  4",
"f 1",
"d  1",
"f 4",
"up  6",
"f 5",
"f 4",
"f 5",
"up  6",
"d  1",
"f 3",
"up  7",
"d  9",
"up  9",
"d  5",
"f 6",
"f 4",
"up  1",
"d  4",
"up  1",
"f 3",
"f 1",
"d  3",
"f 7",
"d  2",
"f 3",
"up  2",
"f 8",
"d  3",
"up  9",
"d  5",
"f 6",
"d  1",
"d  8",
"d  5",
"f 1",
"d  6",
"up  2",
"f 6",
"d  2",
"d  1",
"up  6",
"up  7",
"d  5",
"f 7",
"f 6",
"f 6",
"d  7",
"f 4",
"d  5",
"up  5",
"d  1",
"up  8",
"d  8",
"d  2",
"d  2",
"d  9",
"up  9",
"f 2",
"f 7",
"d  7",
"d  4",
"d  4",
"d  8",
"f 5",
"f 2",
"up  9",
"d  9",
"f 7",
"up  9",
"d  2",
"d  7",
"up  2",
"up  8",
"f 8",
"d  4",
"f 3",
"f 4",
"f 6",
"f 2",
"d  1",
"d  2",
"f 2",
"up  1",
"d  1",
"f 5",
"up  3",
"up  3",
"d  3",
"d  1",
"d  4",
"up  5",
"up  6",
"f 5",
"up  7",
"f 6",
"d  4",
"d  7",
"up  8",
"f 1",
"d  5",
"up  4",
"up  3",
"up  5",
"d  1",
"up  5",
"f 3",
"up  5",
"f 2",
"f 2",
"f 5",
"f 2",
"up  9",
"f 4",
"d  1",
"d  3",
"d  5",
"up  2",
"d  8",
"f 8",
"f 9",
"d  1",
"d  3",
"f 8",
"f 2",
"d  2",
"d  1",
"up  7",
"f 2",
"f 8",
"d  9",
"f 1",
"f 4",
"d  7",
"d  4",
"up  7",
"d  3",
"d  1",
"d  4",
"up  7",
"d  6",
"f 7",
"d  8",
"up  2",
"up  4",
"up  6",
"d  9",
"d  9",
"d  8",
"f 6",
"up  3",
"up  1",
"f 9",
"f 6",
"up  4",
"up  2",
"up  7",
"f 5",
"up  9",
"up  9",
"f 9",
"up  6",
"d  1",
"d  3",
"f 3",
"d  2",
"d  2",
"d  6",
"d  9",
"f 3",
"f 7",
"up  3",
"f 3",
"d  5",
"f 9",
"up  6",
"d  2",
"f 8",
"d  3",
"up  5",
"d  6",
"f 9",
"d  5",
"d  2",
"d  6",
"f 8",
"f 6",
"d  1",
"f 6",
"up  1",
"up  7",
"d  4",
"d  7",
"f 4",
"f 7",
"d  4",
"f 8",
"d  8",
"d  7",
"f 9",
"d  1",
"d  3",
"d  6",
"f 7",
"f 6",
"f 3",
"f 8",
"d  5",
"d  3",
"up  1",
"d  9",
"d  8",
"f 3",
"d  6",
"d  1",
"f 5",
"f 5",
"f 9",
"up  5",
"d  6",
"up  9",
"d  7",
"d  6",
"up  1",
"f 5",
"f 7",
"f 8",
"f 7",
"f 6",
"f 3",
"f 1",
"f 2",
"up  4",
"f 3",
"f 4",
"f 5",
"up  2",
"up  3",
"f 4",
"d  9",
"up  4",
"f 7",
"d  6",
"d  6",
"d  1",
"f 2",
"d  2",
"f 2",
"d  3",
"f 7",
"f 8",
"d  4",
"up  7",
"f 7",
"d  7",
"f 7",
"f 9",
"d  7",
"up  2",
"d  3",
"f 7",
"d  1",
"f 8",
"f 2",
"up  9",
"d  3",
"f 2",
"up  4",
"f 9",
"d  4",
"d  4",
"f 4",
"d  2",
"d  9",
"f 4",
"d  2",
"d  6",
"f 9",
"f 2",
"up  1",
"f 2",
"f 3",
"d  5",
"up  8",
"d  4",
"d  4",
"f 7",
"d  2",
"up  6",
"d  9",
"f 9",
"up  1",
"f 3",
"d  5",
"f 3",
"d  3",
"f 4",
"up  3",
"d  6",
"d  7",
"d  4",
"d  8",
"d  4",
"d  5",
"up  9",
"up  1",
"d  7",
"up  3",
"up  3",
"d  3",
"up  4",
"up  6",
"f 8",
"d  1",
"f 7",
"f 4",
"d  9",
"d  1",
"f 7",
"f 9",
"f 1",
"d  3",
"d  2",
"f 3",
"f 2",
"d  7",
"f 9",
"f 6",
"up  9",
"d  2",
"f 9",
"up  6",
"f 8",
"up  1",
"d  5",
"d  8",
"f 1",
"d  1",
"f 9",
"up  1",
"f 9",
"f 1",
"f 1",
"d  7",
"f 3",
"f 6",
"d  5",
"f 7",
"f 1",
"d  7",
"d  6",
"d  6",
"f 5",
"up  6",
"d  6",
"f 8",
"up  2",
"d  8",
"d  3",
"up  5",
"up  8",
"d  6",
"f 4",
"f 2",
"up  3",
"f 5",
"f 3",
"up  8",
"f 6",
"up  8",
"f 1",
"up  8",
"up  7",
"up  6",
"f 2",
"d  9",
"d  9",
"f 3",
"d  7",
"f 3",
"d  6",
"f 9",
"up  5",
"d  1",
"f 7",
"d  1",
"d  5",
"d  9",
"f 8",
"f 9",
"f 7",
"d  9",
"up  4",
"f 5",
"d  5",
"f 5",
"d  9",
"f 9",
"f 3",
"up  5",
"f 8",
"up  5",
"d  1",
"f 8",
"d  3",
"f 6",
"up  9",
"f 8",
"d  4",
"f 3",
"d  5",
"f 8",
"f 9",
"f 2",
"d  1",
"d  6",
"d  4",
"f 9",
"up  2",
"d  3",
"d  6",
"d  3",
"d  9",
"d  1",
"up  6",
"d  2",
"d  7",
"up  5",
"f 5",
"up  1",
"d  7",
"f 6",
"up  6",
"d  2",
"d  3",
"f 3",
"d  5",
"f 8",
"d  9",
"d  7",
"d  8",
"up  7",
"d  1",
"f 1",
"f 1",
"d  2",
"up  4",
"f 2",
"d  3",
"up  2",
"d  3",
"d  2",
"f 7",
"d  1",
"up  7",
"d  2",
"d  1",
"f 6",
"d  9",
"up  9",
"d  4",
"d  6",
"up  9",
"f 7",
"f 9",
"f 7",
"d  4",
"d  1",
"f 7",
"d  4",
"d  7",
"d  3",
"d  5",
"f 3",
"d  8",
"f 8",
"f 7",
"f 8",
"d  4",
"d  9",
"f 2",
"f 7",
"up  8",
"f 4",
"d  6",
"up  8",
"d  2",
"f 3",
"d  6",
"d  8",
"f 8",
"f 2",
"f 9",
"up  6",
"f 7",
"d  3",
"d  5",
"f 8",
"f 9",
"d  3",
"f 3",
"f 2",
"f 3",
"d  8",
"up  9",
"up  5",
"up  2",
"up  6",
"up  1",
"up  1",
"up  5",
"f 3",
"f 2",
"d  3",
"f 4"]

horizontal=0
depth=0
aim=0
for i in range(0,len(a)):
    if (a[i][0]=='f'):
        size=len(a[i])-1
        horizontal+=int(a[i][size])
        depth+= aim*int(a[i][size])
    elif (a[i][0]=='u'):
        size=len(a[i])-1
        aim-=int(a[i][size])
    else:
        size=len(a[i])-1
        aim+=int(a[i][size])

print(horizontal)
print(depth)
print(horizontal*depth)






